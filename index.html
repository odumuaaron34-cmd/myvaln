<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine üíò</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    text-align: center;
    background: linear-gradient(to bottom right, #ffdde1, #ee9ca7);
    overflow: hidden;
}

h1 {
    margin-top: 80px;
}

button {
    padding: 15px 25px;
    font-size: 18px;
    margin: 20px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    transition: 0.3s;
}

#yesBtn {
    background: #ff4d6d;
    color: white;
}

#noBtn {
    background: white;
    color: #ff4d6d;
}

#dialogue {
    font-size: 20px;
    margin-top: 20px;
}

.heart {
    position: fixed;
    background: red;
    transform: rotate(45deg);
}

.heart::before,
.heart::after {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    background: red;
    border-radius: 50%;
}

.heart::before {
    top: -50%;
    left: 0;
}

.heart::after {
    left: -50%;
    top: 0;
}

.pop {
    transform: scale(1.5) rotate(45deg);
    opacity: 0;
    transition: all 0.3s ease;
}

.message {
    font-size: 2rem;
    text-align: center;
    margin-top: 40px;
    padding: 20px;
}

.score {
    position: fixed;
    top: 20px;
    left: 20px;
    font-size: 1.5rem;
}
</style>
</head>

<body>

<h1>Will you be my Valentine? üíï</h1>
<button id="yesBtn">Yes üíñ</button>
<button id="noBtn">No üòè</button>
<div id="dialogue"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {

const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const dialogue = document.getElementById("dialogue");

let noClicks = 0;
let score = 0;
let scoreDisplay;

const popSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-bubble-pop-up-alert-notification-2357.mp3");

const compliments = [
    "Your smile is cute üòÑ",
    "You‚Äôre funny but not too funny üòè",
    "I love how thoughtful you are üíñ",
    "You have a great laugh üòÜ",
    "Your energy is contagious ‚ú®",
    "You always make things better üå∏",
    "You‚Äôre cute when you‚Äôre serious üòå",
    "You‚Äôre just amazing, honestly üíï"
];

const maxLanes = 10;
const heartLanes = Array(maxLanes).fill(false);

function createHeart() {

    const freeLanes = [];
    heartLanes.forEach((occupied, i) => { if(!occupied) freeLanes.push(i); });
    if(freeLanes.length === 0) return;

    const laneIndex = freeLanes[Math.floor(Math.random()*freeLanes.length)];
    heartLanes[laneIndex] = true;

    const heart = document.createElement('div');
    heart.className = 'heart';

    const laneX = (laneIndex + 0.5) * (window.innerWidth / maxLanes);
    heart.style.left = laneX + 'px';

    const size = 15 + Math.random()*20;
    heart.style.width = size + 'px';
    heart.style.height = size + 'px';

    let posY = window.innerHeight + 20;
    const speed = 0.8 + Math.random()*0.7;
    const swayAmp = 15 + Math.random()*10;
    const swaySpeed = 0.01 + Math.random()*0.02;
    let sway = Math.random()*2*Math.PI;

    heart.style.cursor = "pointer";

    heart.addEventListener("click", () => {

        score++;
        scoreDisplay.innerText = "Points: " + score + " üíñ";

        popSound.currentTime = 0;
        popSound.play();

        heart.classList.add("pop");

        if (score % 10 === 0 && score < 50) {
            alert(compliments[Math.floor(Math.random()*compliments.length)]);
        }

        if (score === 50) {
            const winMessage = document.createElement("div");
            winMessage.className = "message";
            winMessage.innerHTML = "You officially win my heart üíòüèÜ";
            document.body.appendChild(winMessage);
        }

        setTimeout(() => heart.remove(), 300);
        heartLanes[laneIndex] = false;
    });

    function animate() {
        posY -= speed;
        sway += swaySpeed;
        heart.style.transform =
            `translate(${Math.sin(sway)*swayAmp}px, ${posY}px) rotate(45deg)`;

        if(posY + size > 0){
            requestAnimationFrame(animate);
        } else {
            heart.remove();
            heartLanes[laneIndex] = false;
        }
    }

    document.body.appendChild(heart);
    animate();
}

yesBtn.addEventListener("click", () => {

    document.body.innerHTML = "";

    scoreDisplay = document.createElement("div");
    scoreDisplay.className = "score";
    scoreDisplay.innerText = "Points: 0 üíñ";
    document.body.appendChild(scoreDisplay);

    const message = document.createElement('div');
    message.className = 'message';
    message.innerHTML =
`I find myself smiling for no reason, and then I realize there is a reason. It‚Äôs you ‚ù§Ô∏è

Glad you are my Valentine`;
    document.body.appendChild(message);

    setInterval(createHeart, 900);
});

noBtn.addEventListener("mouseenter", ()=>{
    if(noClicks<2){
        let x=Math.random()*(window.innerWidth-noBtn.offsetWidth-20);
        let y=Math.random()*(window.innerHeight-noBtn.offsetHeight-20);
        noBtn.style.transition="all 0.5s";
        noBtn.style.position="absolute";
        noBtn.style.left=x+"px";
        noBtn.style.top=y+"px";
    }
});

noBtn.addEventListener("click", ()=>{
    noClicks++;
    if(noClicks===1) dialogue.innerHTML='"I\'m scared of him‚Ä¶"';
    else if(noClicks===2){
        noBtn.innerHTML="üñï";
        noBtn.style.position="absolute";
        let rect=yesBtn.getBoundingClientRect();
        noBtn.style.left=(rect.left+rect.width+10)+"px";
        noBtn.style.top=rect.top+"px";
        noBtn.style.transform="rotate(20deg)";
        dialogue.innerHTML='"Fine, you win!"';
    }
});

});
</script>

</body>
</html>
